# AGENTS.md (frontend)

## 適用範囲

- このファイルの指示は `C:\Users\jacks\Documents\flowlet\frontend` 配下に適用する。
- ルートの `AGENTS.md` と矛盾する場合は、より制約が強い方を優先する。

## 対象

- 主対象: `frontend/flowlet` (React + TypeScript + Vite)

## 基本方針

- UI変更は最小差分で行い、見た目変更とロジック変更を可能な限り分離する。
- API呼び出し仕様の変更は、型定義と利用箇所を同時に更新する。
- `any` の導入は避け、既存のTypeScript型安全性を維持する。

## 実行コマンド

- 開発起動: `npm run dev`
- Lint: `npm run lint`
- ビルド: `npm run build`

## 検証方針

- Frontend変更時は `npm run lint` を必須とする。
- 可能であれば `npm run build` まで実行して型・ビルド整合性を確認する。
- 検証不可の場合は理由・代替確認・残リスクを明記する。

## 安全方針

- `dist/` や `node_modules/` の生成物は、明示指示がない限り変更対象にしない。
- 環境変数や秘密情報をコードにハードコードしない。

## Skills運用

- 正本テンプレート: `docs/SKILLS_POLICY_TEMPLATE.md`
- 更新時はテンプレートを先に更新し、レイヤー固有文言以外を同期する。
- skillは「明示指定された場合」または「タスク内容がskill説明に明確に一致する場合」にのみ使う。
- 複数候補がある場合は、目的達成に必要な最小セットだけを使う。
- skill適用時は、使うskill名と適用理由を1行で先に共有する。
- skill適用時も当該方針を優先する（UI変更とロジック変更を可能な限り分離し、型安全性を維持する）。
- skill実行時も既存の安全方針を厳守する（権限昇格は目的を1文で添えて承認を求める）。
- skill実行後は当該ファイルの検証方針に従って確認する。
- 検証不可の場合は、理由・代替確認・残リスクを明記する。
